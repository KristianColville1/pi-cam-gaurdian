# Camera Feed Setup

**Goal:** Get the camera feed (h.264) continuously loaded so it can be pulled with low latency. Everything else is straightforward, but this is the tricky part.

## Solution: Named Pipes (mkfifo)

Came across a piping command that allows two separate processes: publishing and pulling.

The command is `mkfifo`. It differs from regular piping in that it can stay up as long as the system is up.

> "One process can open it as a reader, and the other as a writer."

**Reference:** https://en.wikipedia.org/wiki/Named_pipe

## Concerns & Solutions

**Memory Concern:** If writing to a file continuously, what about memory? Continuous writing will cause the Pi to fall over.

- **Strategy:** Write to limited temporary storage

**Latency Concern:** Read speed is an issue. Requiring the file system to fetch data adds latency because it takes time to fetch.

- **Strategy:** Write to RAM - it's highly accessible and already loaded

came across this for temporary file just need to test it working with the https://docs.oracle.com/cd/E19683-01/806-4073/6jd67r9j2/index.html

tmpfs

another concern is persistence after reboot. if for whatever reason the pi has to reboot we need to ensure that the temporary file on ram with a set size is persisted after reboot

command structure so far: sudo mount -t tmpfs -o size=64M tmpfs /mnt/ram

writes 64mb of data and overwrites.

separate systems, the temporary file and the camera, the camera is just going to be pointed to the file and we'll have another system to pull from the file
